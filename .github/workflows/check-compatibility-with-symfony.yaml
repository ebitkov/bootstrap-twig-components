name: Check compatibility with Symfony

on: [ 'push' ]

jobs:
    setup-bundle:
        runs-on: ubuntu-latest
        steps:
            -   uses: shivammathur/setup-php@v2
                with:
                    php-version: '8.1'

            -   name: Create blank Symfony project
                run: composer create-project symfony/skeleton:6.3.* ./
                
            -   name: Install bundle
                uses: actions/checkout@v3
                with:
                    path: libs/ebitkov/bootstrap-twig-components
            -   run: composer config repositories.bundle '{"type":"path","url":"./libs/ebitkov/bootstrap-twig-components"}'
            -   run: composer require ebitkov/bootstrap-twig-components:@dev --no-install
                
            -   name: Install Dependencies
                run: composer install
